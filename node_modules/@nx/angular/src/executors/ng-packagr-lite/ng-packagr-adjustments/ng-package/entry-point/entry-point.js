"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createNgEntryPoint = createNgEntryPoint;
const node_path_1 = require("node:path");
const ng_packagr_version_1 = require("../../../../utilities/ng-packagr/ng-packagr-version");
const package_imports_1 = require("../../../../utilities/ng-packagr/package-imports");
function createNgEntryPoint(packageJson, ngPackageJson, basePath, secondaryData) {
    const { major: ngPackagrMajorVersion } = (0, ng_packagr_version_1.getNgPackagrVersionInfo)();
    const { NgEntryPoint: NgEntryPointBase } = (0, package_imports_1.importNgPackagrPath)('ng-packagr/lib/ng-package/entry-point/entry-point', ngPackagrMajorVersion);
    class NgEntryPoint extends NgEntryPointBase {
        /**
         * Point the FESM2022 files to the ESM2022 files.
         */
        get destinationFiles() {
            const result = super.destinationFiles;
            result.fesm2022 = result.esm2022;
            result.fesm2022Dir = (0, node_path_1.dirname)(result.esm2022);
            return result;
        }
    }
    return new NgEntryPoint(packageJson, ngPackageJson, basePath, secondaryData);
}
